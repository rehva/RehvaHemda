@model List<Wikiped.Models.ClanciServisObrada>
@using Wikiped.Models
<script src="../../Script/jquery.masonry.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $("document").ready(function () {
        $('#main-wbg').masonry({
            itemSelector: '.clanak-wraper'
        });
        function setRating(span, rating) {
            span.find('img').each(function () {
               
                var value = parseFloat($(this).attr("value"));
                var imgSrc = $(this).attr("src");

                if (value < rating) {
                    $(this).attr("src", imgSrc.replace("OFF.gif", "ON.gif"));
                }
                else
                    $(this).attr("src", imgSrc.replace("ON.gif", "OFF.gif"));
            });
        }

        $(".star").mouseover(function () {
            var span = $(this).parent("span");
            var newRating = $(this).attr("value");
            setRating(span, newRating);
        });
        $(".star").mouseout(function () {
            var span = $(this).parent("span");
            var rating = span.attr("rating");
            setRating(span, rating);
        });

    });
</script>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Pocetna.cshtml";
}
@foreach (var it1 in Model)
{
    <div class="clanak-wraper @(it1.klasa)">

        @foreach (var it2 in it1.ClanciOrig) {

        <div class="clanak-naslov  @(it1.klasa)">
            @Html.DisplayFor(modelItem => it2.naslov)
        </div>
        <div class="clanak-text">
            <img src=" @Html.DisplayFor(modelItem => it2.slika)" alt="wikitest" class="clanak-slika" />
            @Html.DisplayFor(modelItem => it2.tekst)
            <div class="clanak-read-more">
                Procitaj vise...</div>
                <br />
                @Html.Ratings(3,1,1)
               
        </div>

        }

    </div>
}
